<!DOCTYPE html>
  <meta charset="utf-8">
  <head>
      <title>Simple Circle Pack (d3 v4; CSV; 50 Lines)</title>
      <script src="https://d3js.org/d3.v4.min.js"></script>
      <script src="index.js"></script>
      <link href="styles.css" rel="stylesheet">
  </head>
  <body>
    <svg>
        <g></g>
    </svg>
  </body>
</html>

<script>
    var Width = 600;
    var Height = 400;

    // Prepare our physical space
    var g = d3.select('svg').attr('width', Width).attr('height', Height).select('g');

    // Get the data from our CSV files
    d3.csv('catLabel_catBTLabel.csv', function(error, CsvData) {
        if (error) throw error;

        Data = d3.stratify()(CsvData);
        drawViz(Data);
    });
    

    function drawViz(Data) {
        // Declare d3 layout
        var Layout = d3.pack().size([Width, Height]);

        // Layout + Data
        var Root = d3.hierarchy(Data).sum(function (d) { return d.data.size; });
        var Nodes = Root.descendants();
        Layout(Root);
        var Slices = g.selectAll('circle').data(Nodes).enter().append('circle');

        // Draw on screen
        Slices.attr('cx', function (d) { return d.x; })
            .attr('cy', function (d) { return d.y; })
            .attr('r', function (d) { return d.r; });
    }
</script>
